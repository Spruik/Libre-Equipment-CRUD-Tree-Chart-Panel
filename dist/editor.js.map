{"version":3,"sources":["../src/editor.js"],"names":["tablePanelEditor","$q","uiSegmentSrv","restrict","scope","templateUrl","controller","TablePanelEditorCtrl","_","$scope","editor","panelCtrl","ctrl","panel","columns","transform","push","text","value","updateTransformHints","render","console","log","column","without"],"mappings":";;;;;;;;;;;;;AA8BA;AACO,WAASA,gBAAT,CAA2BC,EAA3B,EAA+BC,YAA/B,EAA6C;AAClD;;AACA,WAAO;AACLC,gBAAU,GADL;AAELC,aAAO,IAFF;AAGLC,mBAAa,mFAHR;AAILC,kBAAYC;AAJP,KAAP;AAMD;;8BAReP,gB;;;;AA/BTQ,O;;;;;;;;;;;;;;;;;;;;;sCAEMD,oB;AACX;AACA,sCAAaE,MAAb,EAAqBR,EAArB,EAAyBC,YAAzB,EAAuC;AAAA;;AACrCO,iBAAOC,MAAP,GAAgB,IAAhB;AACA,eAAKC,SAAL,GAAiBF,OAAOG,IAAxB;AACA,eAAKC,KAAL,GAAa,KAAKF,SAAL,CAAeE,KAA5B;AACD;;;;6CAEmB;AAClB,iBAAKA,KAAL,CAAWC,OAAX,GAAqB,EAArB;AACA,gBAAI,KAAKD,KAAL,CAAWE,SAAX,KAAyB,yBAA7B,EAAwD;AACtD,mBAAKF,KAAL,CAAWC,OAAX,CAAmBE,IAAnB,CAAwB,EAAEC,MAAM,KAAR,EAAeC,OAAO,KAAtB,EAAxB;AACD;;AAED,iBAAKC,oBAAL;AACA,iBAAKC,MAAL;AACD;;;mCAES;AACRC,oBAAQC,GAAR,CAAY,KAAZ;AACD;;;uCAEaC,M,EAAQ;AACpB,iBAAKV,KAAL,CAAWC,OAAX,GAAqBN,EAAEgB,OAAF,CAAU,KAAKX,KAAL,CAAWC,OAArB,EAA8BS,MAA9B,CAArB;AACA,iBAAKZ,SAAL,CAAeS,MAAf;AACD","file":"editor.js","sourcesContent":["import _ from 'lodash'\r\n\r\nexport class TablePanelEditorCtrl {\r\n  /** @ngInject */\r\n  constructor ($scope, $q, uiSegmentSrv) {\r\n    $scope.editor = this\r\n    this.panelCtrl = $scope.ctrl\r\n    this.panel = this.panelCtrl.panel\r\n  }\r\n\r\n  transformChanged () {\r\n    this.panel.columns = []\r\n    if (this.panel.transform === 'timeseries_aggregations') {\r\n      this.panel.columns.push({ text: 'Avg', value: 'avg' })\r\n    }\r\n\r\n    this.updateTransformHints()\r\n    this.render()\r\n  }\r\n\r\n  render () {\r\n    console.log('hhh')\r\n  }\r\n\r\n  removeColumn (column) {\r\n    this.panel.columns = _.without(this.panel.columns, column)\r\n    this.panelCtrl.render()\r\n  }\r\n}\r\n\r\n/** @ngInject */\r\nexport function tablePanelEditor ($q, uiSegmentSrv) {\r\n  'use strict'\r\n  return {\r\n    restrict: 'E',\r\n    scope: true,\r\n    templateUrl: 'public/plugins/smart-factory-equipment-crud-tree-chart-panel/partials/editor.html',\r\n    controller: TablePanelEditorCtrl\r\n  }\r\n}\r\n"]}